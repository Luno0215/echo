server:
  port: 8080
  servlet:
    context-path: /api
spring:
  application:
    name: echo
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/echo?serverTimezone=Asia/Shanghai&useUnicode=true&characterEncoding=utf-8&allowMultiQueries=true
    username: root
    password: # your password
  profiles:
    active: dev
  data:
    # Redis
    redis:
      host: localhost
      port: 6379
      password: # your password
      database: 0
      timeout: 5000ms
      lettuce:
        pool:
          max-active: 8
          max-wait: -1ms
          max-idle: 8
          min-idle: 0
  # RabbitMQ
  rabbitmq:
    host: localhost
    port: 5672
    username: root
    password: # your password
    # 开启消息确认机制 (建议开启，保证消息不丢)
    publisher-confirm-type: correlated
    publisher-returns: true
    # 【新增】消费者监听配置
    listener:
      simple:
        # 开启手动签收模式 (关键！)
        acknowledge-mode: manual
        # 每次只拉取一条消息，防止积压 (可选，建议加)
        prefetch: 1
  # Elasticsearch
  elasticsearch:
    uris: http://localhost:9200
# MP log
mybatis-plus:
  configuration:
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
# base log
logging:
  level:
    com.luno.echo: DEBUG

# aliyun OSS
aliyun:
  oss:
    endpoint: # your endpoint
    access-key-id: # your access-key-id
    access-key-secret: # your access-key-secret
    bucket-name: echo-luno
